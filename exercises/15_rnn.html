<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h2 id="character-network">Character Network</h2>
<ol style="list-style-type: lower-alpha">
<li><strong>Before you open the notebook!</strong>: Sometimes it's good to verify that keras really does what you want it to do. Therefore, calculate the number of parameters used for the first LSTM layer (line 4) and the dense layer (line 6 and 7). The notebook is defined as follows:</li>
</ol>
<pre><code># maxlen = 40
# len(chars) = 106
model.add(LSTM(512, return_sequences=True, input_shape=(maxlen, len(chars))))  # original one
model.add(LSTM(512, return_sequences=True)) 
model.add(Dropout(0.2))
model.add(TimeDistributed(Dense(len(chars))))
model.add(TimeDistributed(Activation(&#39;softmax&#39;)))</code></pre>
<p>Please note that a LSTM-layer has 4 units. Each unit takes the concatenation <span class="math inline">\([h_{t-1}, x_t]\)</span> of the input vector <span class="math inline">\(x_t\)</span> and hidden state vector <span class="math inline">\(h_{t-1}\)</span> and transforms it using a matrix <span class="math inline">\(W\)</span> and a bias vector <span class="math inline">\(b\)</span>. For example the forget-gate is <a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs">see also</a></p>
<p><span class="math display">\[
 f_t = \sigma ([h_{t-1}, x_t] W_f + b_f)
\]</span></p>
<p><strong>Solution:</strong> (1'267'712) for first LSTM and (54'378) for dense layer. The solution can be found <a href="15_rnn_solution_a.pdf">here</a></p>
<ol start="2" style="list-style-type: lower-alpha">
<li><p>Now open the notebook. Understand the code choose a different starting seed.</p></li>
<li><p>Play around with the temperature. What happens if you, increase / decrease the temperature.</p></li>
</ol>
</body>
</html>
